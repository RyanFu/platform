(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2feba853","chunk-b6457b8c"],{"06c2":function(e,t,n){"use strict";var a=n("92a6"),r=n.n(a);r.a},"12de":function(e,t,n){"use strict";n.r(t),n.d(t,"getTheme",(function(){return r}));var a=n("b775");function r(e){return Object(a["a"])({url:"/theme",method:"get",params:e})}},6115:function(e,t,n){"use strict";var a=n("c91b"),r=n.n(a);r.a},"79d9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drawer-container"},[n("div",[n("h3",{staticClass:"drawer-title"},[e._v("Page style setting")]),e._v(" "),n("div",{staticClass:"drawer-item"},[n("span",[e._v("Theme Color")]),e._v(" "),n("theme-picker",{staticStyle:{float:"right",height:"26px",margin:"-3px 8px 0 0"},on:{change:e.themeChange}})],1),e._v(" "),n("div",{staticClass:"drawer-item"},[n("span",[e._v("Open Tags-View")]),e._v(" "),n("el-switch",{staticClass:"drawer-switch",model:{value:e.tagsView,callback:function(t){e.tagsView=t},expression:"tagsView"}})],1),e._v(" "),n("div",{staticClass:"drawer-item"},[n("span",[e._v("Fixed Header")]),e._v(" "),n("el-switch",{staticClass:"drawer-switch",model:{value:e.fixedHeader,callback:function(t){e.fixedHeader=t},expression:"fixedHeader"}})],1),e._v(" "),n("div",{staticClass:"drawer-item"},[n("span",[e._v("Sidebar Logo")]),e._v(" "),n("el-switch",{staticClass:"drawer-switch",model:{value:e.sidebarLogo,callback:function(t){e.sidebarLogo=t},expression:"sidebarLogo"}})],1),e._v(" "),n("div",{staticClass:"drawer-item"},[n("span",[e._v("Lang")]),e._v(" "),n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])])},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-color-picker",{staticClass:"theme-picker",attrs:{predefine:["#409EFF","#1890ff","#304156","#212121","#11a983","#13c2c2","#6959CD","#f5222d"],"popper-class":"theme-picker-dropdown"},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})},i=[],o=(n("c5f6"),n("6b54"),n("ac6a"),n("3b2b"),n("a481"),n("96cf"),n("3b8d")),c=n("12de"),u=(n("f6f8").version,"#006cb7"),l={data:function(){return{chalk:"",theme:""}},computed:{defaultTheme:function(){return this.$store.state.settings.theme}},watch:{defaultTheme:{handler:function(e,t){console.log(e,t),this.theme=e},immediate:!0},theme:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,r,s,i,o,l,h=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.chalk?this.theme:u,"string"===typeof t){e.next=3;break}return e.abrupt("return");case 3:a=this.getThemeCluster(t.replace("#","")),r=this.getThemeCluster(n.replace("#","")),console.log(a,r),s=this.$message({message:"  Compiling the theme",customClass:"theme-message",type:"success",duration:0,iconClass:"el-icon-loading"}),i=function(e,t){return function(){var n=h.getThemeCluster(u.replace("#","")),r=h.updateStyle(h[e],n,a),s=document.getElementById(t);s||(s=document.createElement("style"),s.setAttribute("id",t),document.head.appendChild(s)),s.innerText=r}},this.chalk||Object(c["getTheme"])().then((function(e){console.log(e),h.chalk=e.data})),o=i("chalk","chalk-style"),o(),l=[].slice.call(document.querySelectorAll("style")).filter((function(e){var t=e.innerText;return new RegExp(n,"i").test(t)&&!/Chalk Variables/.test(t)})),l.forEach((function(e){var t=e.innerText;"string"===typeof t&&(e.innerText=h.updateStyle(t,r,a))})),this.$emit("change",t),s.close();case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:{updateStyle:function(e,t,n){var a=e;return t.forEach((function(e,t){a=a.replace(new RegExp(e,"ig"),n[t])})),a},getCSSString:function(e,t){var n=this;return new Promise((function(a){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(n[t]=r.responseText.replace(/@font-face{[^}]+}/,""),a())},r.open("GET",e),r.send()}))},getThemeCluster:function(e){for(var t=function(e,t){var n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return 0===t?[n,a,r].join(","):(n+=Math.round(t*(255-n)),a+=Math.round(t*(255-a)),r+=Math.round(t*(255-r)),n=n.toString(16),a=a.toString(16),r=r.toString(16),"#".concat(n).concat(a).concat(r))},n=function(e,t){var n=parseInt(e.slice(0,2),16),a=parseInt(e.slice(2,4),16),r=parseInt(e.slice(4,6),16);return n=Math.round((1-t)*n),a=Math.round((1-t)*a),r=Math.round((1-t)*r),n=n.toString(16),a=a.toString(16),r=r.toString(16),"#".concat(n).concat(a).concat(r)},a=[e],r=0;r<=9;r++)a.push(t(e,Number((r/10).toFixed(2))));return a.push(n(e,.1)),a}}},h=l,d=(n("06c2"),n("2877")),g=Object(d["a"])(h,s,i,!1,null,null,null),f=g.exports,p={components:{ThemePicker:f},data:function(){return{options:[{label:"zh",value:"zh"},{label:"en",value:"en"}]}},computed:{fixedHeader:{get:function(){return this.$store.state.settings.fixedHeader},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"fixedHeader",value:e})}},tagsView:{get:function(){return this.$store.state.settings.tagsView},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"tagsView",value:e})}},sidebarLogo:{get:function(){return this.$store.state.settings.sidebarLogo},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"sidebarLogo",value:e})}},lang:{get:function(){return this.$store.getters.language},set:function(e){this.$store.dispatch("app/setLanguage",e)}}},methods:{themeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"theme",value:e})}}},m=p,v=(n("6115"),Object(d["a"])(m,a,r,!1,null,"eeea7fbc",null));t["default"]=v.exports},"92a6":function(e,t,n){},b775:function(e,t,n){"use strict";var a=n("bc3a"),r=n.n(a),s=n("5c96"),i=n("4360"),o=n("5f87"),c=r.a.create({baseURL:"/api",timeout:5e3});c.interceptors.request.use((function(e){return i["a"].getters.token&&(e.headers["X-Token"]=Object(o["a"])()),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return"0000"!==t.resCode?(Object(s["Message"])({message:t.message||"Error",type:"error",duration:5e3}),50008!==t.resCode&&50012!==t.resCode&&50014!==t.resCode||s["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){i["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.message||"Error"))):t}),(function(e){return console.log("err"+e),Object(s["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},c91b:function(e,t,n){}}]);